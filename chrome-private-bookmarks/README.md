個人用のブックマークリストを作るChrome 拡張

### UI

- 拡張アイコンをクリックすると「ブックマークしました」というポップアップとブックマークリストへのリンクを表示する
- ブックマークリストはブックマークした記事のタイトルをリンクで表示
- ブックマークリストを表示する前にパスワード認証が必要（パスワード: `mb4649!`）
- 最上部に「検索フォーム」を用意して検索できるように
- 最大で100件表示。以降はページ送り
- ダウンロードボタンを用意してクリックするとCSVファイルでダウンロードできるようにする
- クリアボタンで全ブックマークを削除できる

## インストール方法

1. アイコンファイルを生成する（以下のいずれかの方法）

   **方法1: HTMLツールを使用（推奨）**
   - `generate-icons.html`をブラウザで開く
   - 各サイズのアイコンの下にある「ダウンロード」ボタンをクリック
   - ダウンロードしたファイルを`icons`フォルダに保存

   **方法2: Pythonスクリプトを使用**
   ```bash
   pip install Pillow
   python generate-icons.py
   ```

2. Chrome拡張機能を読み込む
   - Chromeで`chrome://extensions/`を開く
   - 「デベロッパーモード」を有効にする
   - 「パッケージ化されていない拡張機能を読み込む」をクリック
   - このプロジェクトのフォルダを選択

## 使用方法

1. ブックマークを追加: 拡張機能のアイコンをクリックすると、現在のページがブックマークに追加されます
2. ブックマークリストを表示: 以下のいずれかの方法でブックマークリストを開けます
   - ポップアップ内の「ブックマークリストを見る」リンクをクリック
   - 拡張アイコンをクリックした後、ポップアップ内でCtrlキー（MacではCommandキー）を押すと、ブックマークを追加せずに直接リストが開きます
   - ショートカットキー `Ctrl+Shift+B`（Macでは`Command+Shift+B`）を押す
   - 拡張アイコンを右クリックして「ブックマークリストを開く」を選択
3. パスワード認証: ブックマークリストを表示する前にパスワード入力画面が表示されます。パスワード `mb4649!` を入力して「ロック解除」ボタンをクリック（またはEnterキーを押す）してください。一度認証すると、ブラウザタブを閉じるまで再認証は不要です
4. 検索: リストページ上部の検索フォームでタイトルやURLを検索できます
5. 保護機能: 各ブックマークの左側にある星マーク（☆）をクリックすると保護状態（★）になります。保護されたブックマークは常にリストの上部に表示され、容量が100KBを超えた場合の自動削除からも除外されます
6. 個別削除: 各ブックマーク項目の右側にある「×」ボタンをクリックすると、そのブックマークを個別に削除できます（確認ダイアログが表示されます）
7. CSVダウンロード: 「CSVダウンロード」ボタンでブックマークをCSV形式でダウンロードできます
8. CSVインポート: リストページ最下部の「CSVインポート」ボタンで、エクスポートしたCSVファイルをインポートしてブックマークを復元できます。既存のブックマークがある場合は追加されます（重複するURLはスキップされます）
9. クリア: 「クリア」ボタンで全ブックマークを削除できます（確認ダイアログが表示されます）
10. 自動削除: 容量が100KBを超えた場合、保護されていない古いブックマークから自動的に削除されます（保護されたブックマークは削除されません）

## 重要な注意事項

### データの保存について

- ブックマークデータは `chrome.storage.sync` に保存され、**同じGoogleアカウントでログインしているすべてのChromeブラウザで自動的に同期されます**
- 同期ストレージの容量制限は約100KBです。ブックマークリストの上部に現在の使用容量が表示されます
- 容量が80%を超えると警告色（赤）で表示されます
- 容量制限に達した場合、新しいブックマークを追加できなくなる可能性があります
- **拡張機能を削除（アンインストール）すると、すべてのブックマークデータが削除されます**
- データを保護するため、定期的にCSVダウンロード機能でバックアップを取得することを推奨します
- 拡張機能を再インストールする場合は、事前にCSVでバックアップを取得し、CSVインポート機能で復元してください

### 同期機能について

- ブックマークデータは自動的にGoogleアカウント間で同期されます
- 同期には数秒〜数分かかる場合があります
- オフライン時はローカルに保存され、オンライン復帰時に自動的に同期されます
- 複数のデバイスで同じGoogleアカウントを使用している場合、すべてのデバイスで同じブックマークデータにアクセスできます

## ファイル構成

- `manifest.json` - 拡張機能の設定ファイル
- `popup.html/js/css` - アイコンクリック時のポップアップ
- `list.html/js/css` - ブックマークリスト表示ページ
- `background.js` - バックグラウンドスクリプト（Service Worker）
- `icons/` - 拡張機能のアイコンファイル（16x16, 48x48, 128x128）
- `generate-icons.html` - アイコン生成ツール（HTML版）
- `generate-icons.py` - アイコン生成ツール（Python版）